## Week3 Day 1



### 数据 HARZARD



- 数据依赖问题，即不同指令在流水时对数据的**产出**与**输入**之间的冲突
- 最简单也是最万能的解决办法，加bubbles，在出现冲突时插入间隔直至冲突消失
- 硬件上解决办法：前向forward，由硬件发出信号将生产的数据进行提前传输
- 软件上解决办法：通过编译器的安排实现一定程度上的乱序从而减少数据的依赖



### 控制 HARZARD



- 最常见的就是由于分支跳转指令的条件不确定，无法确定执行的下一条指令，因此只能程序只能等待
- 对跳转的处理：流水线，或nop指令（一种特殊的控制指令，常用来强制内存对齐，防止危险，使现有指令（如跳转）无效）
- 对跳转指令的预测，即提前判断出是否需要跳转并接着执行，好处是如果预测对了可以完全避免冲突，坏处是如果预测错误就会浪费大量的周期
- 填充，在等待跳转条件进行计算时，寻找一些无论是否跳转都会执行的语句插在跳转（延迟槽）之后，从而最大限度的减少周期的浪费
- 然而填充在很多情况下无法找到足够多的有效的指令进行填充，在五级流水下效率通常只有50%左右，且对于超标量处理器，效率更低



### Performance

- 完成一个任务花费的时间（ExTime）
- 在固定时间内完成的任务（Performance）



### 课堂补充与插曲



- 一个人真正学计算机，他的目的就是为了造计算机

- 造计算机也认为三部分：体系结构，编译器，操作系统

- 人工智能与计算机没有必然关系，可以用任何方法实现计算机，只是目前计算机是实现智能最合适的工具

  

#### 补充问题



- 是否可以不使用任何的跳转指令进行编程（即从根本上避免控制冲突的发生）